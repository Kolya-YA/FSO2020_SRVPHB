(this["webpackJsonppart02.06-02.10"]=this["webpackJsonppart02.06-02.10"]||[]).push([[0],{14:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),u=t(2),l=function(e){var n=e.filter,t=e.setFilter;return r.a.createElement("form",null,r.a.createElement("label",null,"Filter\xa0",r.a.createElement("input",{type:"text",value:n,onChange:function(e){t(e.target.value)}})))},i=function(e){var n=e.persons,t=e.filter,a=e.delPerson,o=t?n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):n;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Numbers"),r.a.createElement("ul",null,o.map((function(e){return r.a.createElement("li",{key:e.id},e.name," \u2014 ",e.number,"\xa0",r.a.createElement("button",{onClick:function(){return a(e)}},"Delete"))}))))},m=function(e){var n=e.newName,t=e.newPhone,a=e.addNewPerson,o=e.handleNewName,c=e.handleNewPhone;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Add a new person"),r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,r.a.createElement("label",null,"Name\xa0",r.a.createElement("input",{type:"text",value:n,onChange:o})),r.a.createElement("br",null),r.a.createElement("label",null,"Phone\xa0",r.a.createElement("input",{type:"tel",value:t,onChange:c}))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add"))))},s=function(e){var n=e.msg,t=e.err;if(!n)return null;var a={background:"lightgrey",fontSize:"20px",borderColor:t?"red":"green",borderStyle:"solid",borderRadius:"5px",padding:"12px 15px",marginBottom:"10px"};return r.a.createElement("div",{style:a},n)},d=t(3),f=t.n(d),p=function(){return f.a.get("/api/persons").then((function(e){return e.data}))},h=function(e){return f.a.post("/api/persons",e).then((function(e){return e.data}))},b=function(e,n){return f.a.put("".concat("/api/persons","/").concat(n),{newNumber:e}).then((function(e){return e.data}))},E=function(e){return f.a.delete("".concat("/api/persons","/").concat(e))},g=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),d=Object(u.a)(c,2),f=d[0],g=d[1],v=Object(a.useState)(""),w=Object(u.a)(v,2),N=w[0],j=w[1],O=Object(a.useState)(""),y=Object(u.a)(O,2),P=y[0],x=y[1],S=Object(a.useState)({error:0,msg:""}),k=Object(u.a)(S,2),C=k[0],F=k[1];Object(a.useEffect)((function(){p().then((function(e){return o(e)})).catch((function(e){return alert(e)}))}),[]);var A=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;F({msg:e,error:n}),setTimeout((function(){return F({msg:"",error:0})}),t)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(s,{msg:C.msg,err:C.error}),r.a.createElement(l,{filter:f,setFilter:g}),r.a.createElement(m,{newName:N,newPhone:P,addNewPerson:function(e){e.preventDefault();var n=t.find((function(e){return e.name===N}));if(!n||window.confirm("".concat(N," is already added to phonebook, replace the old number with a new one?"))){var a={name:N,number:P};n?b(a.number,n.id).then((function(e){o(t.map((function(n){return n.id!==e.id?n:e})))})).catch((function(e){return A("".concat(e.response.data.name," ").concat(e.response.data.message),1,15e3)})):h(a).then((function(e){A("Added ".concat(e.name,".")),o(t.concat(e))})).catch((function(e){return A("".concat(e.response.data.name," ").concat(e.response.data.message),1,15e3)})),j(""),x(""),g("")}},handleNewName:function(e){j(e.target.value)},handleNewPhone:function(e){x(e.target.value)}}),r.a.createElement(i,{persons:t,filter:f,delPerson:function(e){if(window.confirm("Delete ".concat(e.name,"?"))){if(e.id<5)return void alert("Imposible!");E(e.id).then(o(t.filter((function(n){return n.id!==e.id})))).catch((function(e){return alert(e)}))}}}))};c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.55ce4754.chunk.js.map