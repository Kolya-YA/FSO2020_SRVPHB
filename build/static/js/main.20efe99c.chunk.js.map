{"version":3,"sources":["components/filter.js","components/persons-list.js","components/add-person-form.js","components/notofication.js","services/bookService.js","App.js","index.js"],"names":["Filter","filter","setFilter","type","value","onChange","event","target","PersonsList","persons","delPerson","personsToShow","person","name","toLowerCase","includes","map","key","id","number","onClick","AddPersonForm","newName","newPhone","addNewPerson","handleNewName","handleNewPhone","onSubmit","Notification","msg","err","msgStyle","background","fontSize","borderColor","borderStyle","borderRadius","padding","marginBottom","style","axios","get","then","response","data","newPerson","post","newNumber","put","delete","App","useState","setPersons","personFilter","setNewName","setNewPhone","error","topMessage","setTopMessage","useEffect","bookService","catch","alert","setMessage","timeout","setTimeout","preventDefault","existPerson","find","window","confirm","p","concat","ReactDOM","render","document","getElementById"],"mappings":"gNAqBeA,EAnBA,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,UAMxB,OACE,8BACE,4CACE,2BACEC,KAAK,OACLC,MAAOH,EACPI,SAVc,SAACC,GACrBJ,EAAUI,EAAMC,OAAOH,aCkBZI,EArBK,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,QAASR,EAAwB,EAAxBA,OAAQS,EAAgB,EAAhBA,UAEhCC,EAAgBV,EAClBQ,EAAQR,QAAO,SAAAW,GAAM,OAAIA,EAAOC,KAAKC,cAAcC,SAASd,EAAOa,kBACnEL,EAEJ,OACE,oCACA,uCACA,4BACGE,EAAcK,KAAI,SAAAJ,GAAM,OACvB,wBAAIK,IAAKL,EAAOM,IACbN,EAAOC,KADV,WACmBD,EAAOO,OAD1B,OAEE,4BAAQC,QAAS,kBAAMV,EAAUE,KAAjC,iBCoBKS,EAjCO,SAAC,GAAD,IACpBC,EADoB,EACpBA,QACAC,EAFoB,EAEpBA,SACAC,EAHoB,EAGpBA,aACAC,EAJoB,EAIpBA,cACAC,EALoB,EAKpBA,eALoB,OAOpB,oCACE,gDACA,0BAAMC,SAAUH,GACd,6BACE,0CACE,2BACErB,KAAK,OACLC,MAAOkB,EACPjB,SAAUoB,KAEN,6BACR,2CACE,2BACEtB,KAAK,MACLC,MAAOmB,EACPlB,SAAUqB,MAIhB,6BACE,4BAAQvB,KAAK,UAAb,WCLOyB,EAtBM,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,IAAKC,EAAU,EAAVA,IAC3B,IAAKD,EACH,OAAO,KAGT,IAAME,EAAW,CACfC,WAAY,YACZC,SAAU,OACVC,YAAaJ,EAAM,MAAQ,QAC3BK,YAAa,QACbC,aAAc,MACdC,QAAS,YACTC,aAAc,QAGhB,OACE,yBAAKC,MAAOR,GACTF,I,gBCEQ,EAjBK,WAElB,OADYW,IAAMC,IAHF,gBAILC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAexB,EAZG,SAAAC,GAEhB,OADYL,IAAMM,KARF,eAQkBD,GACvBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAUxB,EAPM,SAACG,EAAW7B,GAE/B,OADYsB,IAAMQ,IAAN,UAbI,eAaJ,YAA0B9B,GAAM,CAAE6B,cACnCL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAKxB,EAFG,SAAA1B,GAAE,OAAIsB,IAAMS,OAAN,UAjBN,eAiBM,YAA6B/B,KCiFtCgC,EA7FH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACR1C,EADQ,KACC2C,EADD,OAEoBD,mBAAS,IAF7B,mBAERE,EAFQ,KAEMnD,EAFN,OAGgBiD,mBAAS,IAHzB,mBAGR7B,EAHQ,KAGCgC,EAHD,OAIkBH,mBAAS,IAJ3B,mBAIR5B,EAJQ,KAIEgC,EAJF,OAKsBJ,mBAAS,CAACK,MAAO,EAAG3B,IAAK,KAL/C,mBAKR4B,EALQ,KAKIC,EALJ,KAOhBC,qBAAU,WACRC,IACGlB,MAAK,SAAAC,GAAQ,OAAIS,EAAWT,MAC5BkB,OAAM,SAAA/B,GAAG,OAAIgC,MAAMhC,QACrB,IAEH,IAAMiC,EAAa,SAAClC,GAAgC,IAA3B2B,EAA0B,uDAApB,EAAGQ,EAAiB,uDAAT,IACxCN,EAAc,CAAC7B,MAAK2B,UACpBS,YAAW,kBAAMP,EAAc,CAAC7B,IAAK,GAAI2B,MAAO,MAAKQ,IAsDvD,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcnC,IAAK4B,EAAW5B,IAAKC,IAAK2B,EAAWD,QACnD,kBAAC,EAAD,CACEvD,OAAQoD,EACRnD,UAAWA,IAEb,kBAAC,EAAD,CACEoB,QAASA,EACTC,SAAUA,EACVC,aA9De,SAAClB,GACpBA,EAAM4D,iBACN,IAAMC,EAAc1D,EAAQ2D,MAAK,SAAAxD,GAAM,OAAIA,EAAOC,OAASS,KAE3D,IAAI6C,GAAgBE,OAAOC,QAAP,UAAkBhD,EAAlB,2EAApB,CAEA,IAAMuB,EAAY,CAChBhC,KAAMS,EACNH,OAAQI,GAGN4C,EACFP,EAAyBf,EAAU1B,OAAQgD,EAAYjD,IACpDwB,MAAK,SAAAC,GACJS,EAAW3C,EAAQO,KAAI,SAAAuD,GAAC,OAAIA,EAAErD,KAAOyB,EAASzB,GAAKqD,EAAI5B,SAExDkB,OAAM,kBAAME,EAAW,kBAAD,OAAmBlB,EAAUhC,KAA7B,qCAAsE,EAAG,QAElG+C,EAAsBf,GACrBH,MAAK,SAAAC,GACJoB,EAAW,SAAD,OAAUpB,EAAS9B,KAAnB,MACVuC,EAAW3C,EAAQ+D,OAAO7B,OAE3BkB,OAAM,SAAA/B,GAAG,OAAIgC,MAAMhC,MAGtBwB,EAAW,IACXC,EAAY,IACZrD,EAAU,MAmCNuB,cApBgB,SAACnB,GACrBgD,EAAWhD,EAAMC,OAAOH,QAoBpBsB,eAjBiB,SAACpB,GACtBiD,EAAYjD,EAAMC,OAAOH,UAkBvB,kBAAC,EAAD,CACEK,QAASA,EACTR,OAAQoD,EACR3C,UAtCY,SAAAE,GAChB,GAAIyD,OAAOC,QAAP,iBAAyB1D,EAAOC,KAAhC,MAA0C,CAC5C,GAAID,EAAOM,GAAK,EAEd,YADA4C,MAAM,cAGRF,EAAsBhD,EAAOM,IAC1BwB,KAAKU,EAAW3C,EAAQR,QAAO,SAAAsE,GAAC,OAAIA,EAAErD,KAAON,EAAOM,QACpD2C,OAAM,SAAA/B,GAAG,OAAIgC,MAAMhC,YC5D5B2C,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.20efe99c.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, setFilter}) => {\n\n  const filterHandler = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <form>\n      <label>Filter \n        <input \n          type='text'\n          value={filter}\n          onChange={filterHandler}\n        />\n      </label>\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonsList = ({ persons, filter, delPerson }) => {\n\n  const personsToShow = filter\n    ? persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n    : persons\n\n  return (\n    <>\n    <h3>Numbers</h3>\n    <ul>\n      {personsToShow.map(person => (\n        <li key={person.id}>\n          {person.name} — {person.number} \n          <button onClick={() => delPerson(person)}>Delete</button>\n        </li>\n      ))}\n    </ul>\n    </>\n  )\n}\n\nexport default PersonsList","import React from 'react'\n\nconst AddPersonForm = ({ \n  newName, \n  newPhone, \n  addNewPerson,\n  handleNewName,\n  handleNewPhone\n}) => (\n  <>\n    <h3>Add a new person</h3>\n    <form onSubmit={addNewPerson}>\n      <div>\n        <label>Name  \n          <input\n            type='text'\n            value={newName}\n            onChange={handleNewName}\n          />\n        </label><br />\n        <label>Phone  \n          <input\n            type='tel'\n            value={newPhone}\n            onChange={handleNewPhone}\n          />\n        </label>\n      </div>\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  </>\n)\n\nexport default AddPersonForm","import React from 'react'\n\nconst Notification = ({ msg, err }) => {\n  if (!msg) {\n    return null\n  }\n\n  const msgStyle = {\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderColor: err ? 'red' : 'green',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '12px 15px',\n    marginBottom: '10px'\n  }\n\n  return (\n    <div style={msgStyle} >\n      {msg}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\n// const serverURL = 'https://shielded-plateau-20658.herokuapp.com/api/persons'\nconst serverURL = '/api/persons'\n\nconst getFullBook = () => {\n  const req = axios.get(serverURL)\n  return req.then(response => response.data)\n}\n\nconst newRecord = newPerson => {\n  const req = axios.post(serverURL, newPerson)\n  return req.then(response => response.data)\n}\n\nconst updateRecord = (newNumber, id) => {\n  const req = axios.put(`${serverURL}/${id}`, { newNumber })\n  return req.then(response => response.data)\n}\n\nconst delRecord = id => axios.delete(`${serverURL}/${id}`)\n\nexport default { getFullBook, newRecord, updateRecord, delRecord }","import React, { useEffect, useState } from 'react'\nimport Filter from './components/filter'\nimport PersonsList from './components/persons-list'\nimport AddPersonForm from './components/add-person-form'\nimport Notification from './components/notofication'\nimport bookService from './services/bookService'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ personFilter, setFilter ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ topMessage, setTopMessage ] = useState({error: 0, msg: ''})\n\n  useEffect(() => {\n    bookService.getFullBook()\n      .then(response => setPersons(response))\n      .catch(err => alert(err))\n  }, [])\n\n  const setMessage = (msg, error=0, timeout=3000) => {\n    setTopMessage({msg, error})\n    setTimeout(() => setTopMessage({msg: '', error: 0}), timeout)\n  }\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    const existPerson = persons.find(person => person.name === newName)\n    \n    if (existPerson && !window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) return\n    \n    const newPerson = {\n      name: newName,\n      number: newPhone\n    }\n\n    if (existPerson) {\n      bookService.updateRecord(newPerson.number, existPerson.id)\n        .then(response => {\n          setPersons(persons.map(p => p.id !== response.id ? p : response))\n        })\n        .catch(() => setMessage(`Information of ${newPerson.name} has already removed from server.`, 1, 10000))\n    } else {\n      bookService.newRecord(newPerson)\n      .then(response => {\n        setMessage(`Added ${response.name}.`)\n        setPersons(persons.concat(response))}\n      )\n      .catch(err => alert(err))      \n    }\n    \n    setNewName('')\n    setNewPhone('')\n    setFilter('')\n  }\n\n  const delPerson = person => {\n    if (window.confirm(`Delete ${person.name}?`)) {      \n      if (person.id < 5) {\n        alert(\"Imposible!\") // VIP persons!\n        return\n      }\n      bookService.delRecord(person.id)\n        .then(setPersons(persons.filter(p => p.id !== person.id)))\n        .catch(err => alert(err))\n    }\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewPhone = (event) => {\n    setNewPhone(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification msg={topMessage.msg} err={topMessage.error} />\n      <Filter\n        filter={personFilter}\n        setFilter={setFilter}\n      />\n      <AddPersonForm\n        newName={newName}\n        newPhone={newPhone}\n        addNewPerson={addNewPerson}\n        handleNewName={handleNewName}\n        handleNewPhone={handleNewPhone}\n      />\n      <PersonsList\n        persons={persons}\n        filter={personFilter}\n        delPerson={delPerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}